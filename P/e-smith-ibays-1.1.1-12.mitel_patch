Index: e-smith-ibays/e-smith-ibays.spec
diff -u e-smith-ibays/root/etc/e-smith/web/functions/ibays:1.3 e-smith-ibays/root/etc/e-smith/web/functions/ibays:1.4
--- e-smith-ibays/root/etc/e-smith/web/functions/ibays:1.3	Wed Nov 19 11:33:45 2003
+++ e-smith-ibays/root/etc/e-smith/web/functions/ibays	Mon Aug 22 14:45:00 2005
@@ -107,7 +107,7 @@
         <field type="text" id="description" validation="validate_description">
             <label>DESCRIPTION</label>
         </field>
-        <field type="select" id="Plugin" options="ibayPlugin_list()" value="none">
+        <field type="select" id="Plugin" options="ibayPlugin_list()" value="none" display="ibayPlugin_show()">
         <label>PLUGIN</label>
         </field>
 
Index: e-smith-ibays/root/usr/lib/perl5/site_perl/esmith/FormMagick/Panel/ibays.pm
diff -u e-smith-ibays/root/usr/lib/perl5/site_perl/esmith/FormMagick/Panel/ibays.pm:1.5 e-smith-ibays/root/usr/lib/perl5/site_perl/esmith/FormMagick/Panel/ibays.pm:1.6
--- e-smith-ibays/root/usr/lib/perl5/site_perl/esmith/FormMagick/Panel/ibays.pm:1.5	Wed Jan 19 19:55:17 2005
+++ e-smith-ibays/root/usr/lib/perl5/site_perl/esmith/FormMagick/Panel/ibays.pm	Mon Aug 22 14:45:00 2005
@@ -1,7 +1,7 @@
 #!/usr/bin/perl -w 
 
 #
-# $Id: ibays.pm,v 1.4 2004/11/11 20:25:59 charlieb Exp $
+# $Id: ibays.pm,v 1.5 2005/01/20 00:55:17 charlieb Exp $
 #
 
 package    esmith::FormMagick::Panel::ibays;
@@ -42,7 +42,7 @@
     wherenext
 );
 
-our $VERSION = sprintf '%d.%03d', q$Revision: 1.4 $ =~ /: (\d+).(\d+)/;
+our $VERSION = sprintf '%d.%03d', q$Revision: 1.5 $ =~ /: (\d+).(\d+)/;
 
 our $accountdb = esmith::AccountsDB->open();
 our $configdb = esmith::ConfigDB->open();
@@ -396,6 +396,18 @@
 {
     my @list = ('none', grep {$_ ne 'none'} esmith::IbayPlugin->list);
     return \@list;
+}
+
+=head2 ibayPlugin_show
+
+ibayPlugin_show() returns a boolean indicator of whether to display the plugin list or not.
+We don't show the list if the only item is "none".
+
+=cut
+
+sub ibayPlugin_show
+{
+    return scalar grep {$_ ne 'none'} esmith::IbayPlugin->list;
 }
 
 sub ibay_plugin_load_fields
Index: e-smith-ibays/root/usr/lib/perl5/site_perl/esmith/IbayPlugin/none.pm
diff -u e-smith-ibays/root/usr/lib/perl5/site_perl/esmith/IbayPlugin/none.pm:1.7 e-smith-ibays/root/usr/lib/perl5/site_perl/esmith/IbayPlugin/none.pm:1.8
--- e-smith-ibays/root/usr/lib/perl5/site_perl/esmith/IbayPlugin/none.pm:1.7	Wed Jan 19 19:55:17 2005
+++ e-smith-ibays/root/usr/lib/perl5/site_perl/esmith/IbayPlugin/none.pm	Mon Aug 22 14:45:00 2005
@@ -3,6 +3,7 @@
 use strict;
 use File::Find;
 use esmith::templates;
+use esmith::util;
 use esmith::AccountsDB;
 
 # You shouldn't need to override the "new" method
